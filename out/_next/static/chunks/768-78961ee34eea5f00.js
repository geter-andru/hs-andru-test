"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[768],{2578:(e,t,a)=>{a.d(t,{kt:()=>s});var i=a(5155);a(2115);var r=a(1154),n=a(646);a(5339);let s=e=>{let{size:t="md",color:a="primary",className:n=""}=e;return(0,i.jsx)(r.A,{className:"animate-spin ".concat({sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"}[t]," ").concat({primary:"text-purple-400",secondary:"text-gray-400",success:"text-green-400",error:"text-red-400"}[a]," ").concat(n)})}},5768:(e,t,a)=>{a.d(t,{A:()=>u});var i=a(5155),r=a(2115),n=a(8165),s=a(3686),o=a(6414),l=a(5695),c=a(2578);let u=e=>{let{redirectTo:t="/dashboard"}=e,[a,u]=(0,r.useState)(null),[d,p]=(0,r.useState)(!0),[h,m]=(0,r.useState)(null),b=(0,l.useRouter)();return((0,r.useEffect)(()=>{(async()=>{try{let{data:{session:e},error:a}=await o.ND.auth.getSession();if(a)throw a;u(e),p(!1),e&&b.push(t)}catch(e){console.error("Error checking session:",e),m(e.message||"Failed to initialize authentication"),p(!1)}})();let{data:{subscription:e}}=o.ND.auth.onAuthStateChange((e,a)=>{console.log("Auth state changed:",e,a),u(a),m(null),"SIGNED_IN"===e&&a?b.push(t):"SIGNED_OUT"===e?m(null):"TOKEN_REFRESHED"===e&&console.log("Token refreshed successfully")});return()=>e.unsubscribe()},[b,t]),d)?(0,i.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,i.jsx)(c.kt,{size:"lg"})}):a?(0,i.jsxs)("div",{className:"flex flex-col items-center justify-center py-8 space-y-4",children:[(0,i.jsx)("div",{className:"text-white",children:"You are already signed in"}),(0,i.jsxs)("div",{className:"flex gap-3",children:[(0,i.jsx)("button",{onClick:()=>b.push(t),className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors",children:"Go to Dashboard"}),(0,i.jsx)("button",{onClick:async()=>{await o.ND.auth.signOut(),u(null)},className:"px-4 py-2 bg-gray-700 text-white rounded-md hover:bg-gray-600 transition-colors",children:"Sign Out"})]})]}):(0,i.jsxs)("div",{className:"w-full",children:[h&&(0,i.jsx)("div",{className:"bg-red-900 border border-red-700 rounded-lg p-4 mb-6",children:(0,i.jsx)("p",{className:"text-red-200 text-sm",children:h})}),(0,i.jsx)("div",{children:(0,i.jsx)(n.Nj,{supabaseClient:o.ND,appearance:{theme:s.Hv,variables:{default:{colors:{brand:"#8B5CF6",brandAccent:"#7C3AED",brandButtonText:"white",defaultButtonBackground:"#1f2937",defaultButtonBackgroundHover:"#374151",defaultButtonBorder:"#374151",defaultButtonText:"white",dividerBackground:"#374151",inputBackground:"#111827",inputBorder:"#374151",inputBorderHover:"#4b5563",inputBorderFocus:"#8B5CF6",inputText:"white",inputLabelText:"#9ca3af",inputPlaceholder:"#6b7280",messageText:"#ef4444",messageBackground:"#fef2f2",messageBorder:"#fecaca",anchorTextColor:"#8B5CF6",anchorTextHoverColor:"#7C3AED"},space:{spaceSmall:"0.5rem",spaceMedium:"1rem",spaceLarge:"1.5rem"},fontSizes:{baseBodySize:"14px",baseInputSize:"14px",baseLabelSize:"12px",baseButtonSize:"14px"},borderWidths:{buttonBorderWidth:"1px",inputBorderWidth:"1px"},radii:{borderRadiusButton:"0.5rem",buttonBorderRadius:"0.5rem",inputBorderRadius:"0.5rem"}}},className:{container:"supabase-auth-container",button:"supabase-auth-button",input:"supabase-auth-input"}},providers:["google"],redirectTo:"".concat("".concat(window.location.origin).concat(t)),onlyThirdPartyProviders:!1,view:"sign_in",showLinks:!0,magicLink:!0,socialLayout:"vertical",socialButtonSize:"medium",localization:{variables:{sign_in:{email_label:"Email",password_label:"Password",email_input_placeholder:"Your email address",password_input_placeholder:"Your password",button_label:"Sign in",loading_button_label:"Signing in...",social_provider_text:"Sign in with {{provider}}",link_text:"Don't have an account? Sign up"},sign_up:{email_label:"Email",password_label:"Password",email_input_placeholder:"Your email address",password_input_placeholder:"Create a password",button_label:"Sign up",loading_button_label:"Creating account...",social_provider_text:"Sign up with {{provider}}",link_text:"Already have an account? Sign in",confirmation_text:"Check your email for the confirmation link"},magic_link:{email_label:"Email",email_input_placeholder:"Your email address",button_label:"Send magic link",loading_button_label:"Sending magic link...",link_text:"Sign in with password instead",confirmation_text:"Check your email for the magic link"},forgotten_password:{email_label:"Email",email_input_placeholder:"Your email address",button_label:"Send reset instructions",loading_button_label:"Sending reset instructions...",link_text:"Back to sign in",confirmation_text:"Check your email for the password reset link"}}}})})]})}},6414:(e,t,a)=>{a.d(t,{HW:()=>o,ND:()=>s});var i=a(2354);let r="https://molcqjsqtjbfclasynpg.supabase.co",n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1vbGNxanNxdGpiZmNsYXN5bnBnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU4ODk1NDcsImV4cCI6MjA3MTQ2NTU0N30.IEP7E2VM2uV1vltbSw1CwYpYw1qw6MvI-JB5SD0tUKI";if(!r||!n)throw Error("Missing Supabase environment variables. Please check your .env.local file.");let s=(0,i.UU)(r,n,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,debug:!1}}),o=async()=>{try{let{data:{user:e},error:t}=await s.auth.getUser();if(t)throw t;return e}catch(e){return console.error("Error getting current user:",e),null}}}}]);