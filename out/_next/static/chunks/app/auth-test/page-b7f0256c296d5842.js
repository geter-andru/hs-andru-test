(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[692],{375:(e,t,s)=>{Promise.resolve().then(s.bind(s,4597))},646:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(9946).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},1154:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(9946).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},2578:(e,t,s)=>{"use strict";s.d(t,{kt:()=>n});var r=s(5155);s(2115);var a=s(1154),l=s(646);s(5339);let n=e=>{let{size:t="md",color:s="primary",className:l=""}=e;return(0,r.jsx)(a.A,{className:"animate-spin ".concat({sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"}[t]," ").concat({primary:"text-purple-400",secondary:"text-gray-400",success:"text-green-400",error:"text-red-400"}[s]," ").concat(l)})}},4597:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(5155),a=s(2115),l=s(6414),n=s(2578);let i=()=>{var e,t,s;let{user:i,session:c,loading:o,error:d,signOut:h,signInWithGoogle:u}=function(){let[e,t]=(0,a.useState)(null),[s,r]=(0,a.useState)(null),[n,i]=(0,a.useState)(!0),[c,o]=(0,a.useState)(null);return(0,a.useEffect)(()=>{(async()=>{try{var e;let{data:{session:s},error:a}=await l.ND.auth.getSession();if(a)throw a;r(s),t(null!=(e=null==s?void 0:s.user)?e:null)}catch(e){o(e instanceof Error?e.message:"Failed to get session")}finally{i(!1)}})();let{data:{subscription:e}}=l.ND.auth.onAuthStateChange(async(e,s)=>{var a;r(s),t(null!=(a=null==s?void 0:s.user)?a:null),i(!1),o(null),"SIGNED_OUT"===e&&localStorage.removeItem("supabase-auth-token")});return()=>{e.unsubscribe()}},[]),{user:e,session:s,loading:n,error:c,signOut:async()=>{try{o(null);let{error:e}=await l.ND.auth.signOut();if(e)throw e;localStorage.removeItem("supabase-auth-token")}catch(t){let e=t instanceof Error?t.message:"Failed to sign out";throw o(e),Error(e)}},signInWithEmail:async(e,t)=>{try{var s;i(!0),o(null);let{data:r,error:a}=await l.ND.auth.signInWithPassword({email:e,password:t});if(a)throw a;(null==(s=r.session)?void 0:s.access_token)&&localStorage.setItem("supabase-auth-token",r.session.access_token)}catch(t){let e=t instanceof Error?t.message:"Failed to sign in";throw o(e),Error(e)}finally{i(!1)}},signUpWithEmail:async(e,t)=>{try{var s;i(!0),o(null);let{data:r,error:a}=await l.ND.auth.signUp({email:e,password:t});if(a)throw a;(null==(s=r.session)?void 0:s.access_token)&&localStorage.setItem("supabase-auth-token",r.session.access_token)}catch(t){let e=t instanceof Error?t.message:"Failed to sign up";throw o(e),Error(e)}finally{i(!1)}},signInWithGoogle:async()=>{try{o(null);let{error:e}=await l.ND.auth.signInWithOAuth({provider:"google",options:{redirectTo:"".concat(window.location.origin,"/dashboard")}});if(e)throw e}catch(t){let e=t instanceof Error?t.message:"Failed to sign in with Google";throw o(e),Error(e)}}}}();return o?(0,r.jsx)("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center",children:(0,r.jsx)(n.kt,{size:"lg"})}):(0,r.jsx)("div",{className:"min-h-screen bg-gray-950 p-6",children:(0,r.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-white mb-8",children:"Authentication Test"}),d&&(0,r.jsx)("div",{className:"bg-red-900 border border-red-700 rounded-lg p-4 mb-6",children:(0,r.jsxs)("p",{className:"text-red-200",children:["Error: ",d]})}),i?(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-green-900 border border-green-700 rounded-lg p-4",children:[(0,r.jsx)("h2",{className:"text-green-200 text-lg font-semibold mb-2",children:"✅ Authenticated"}),(0,r.jsxs)("p",{className:"text-green-200",children:["Welcome, ",i.email||(null==(e=i.user_metadata)?void 0:e.full_name)||"User","!"]})]}),(0,r.jsxs)("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:[(0,r.jsx)("h3",{className:"text-white text-lg font-semibold mb-4",children:"User Details"}),(0,r.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,r.jsxs)("p",{className:"text-gray-300",children:[(0,r.jsx)("span",{className:"font-medium",children:"ID:"})," ",i.id]}),(0,r.jsxs)("p",{className:"text-gray-300",children:[(0,r.jsx)("span",{className:"font-medium",children:"Email:"})," ",i.email||"Not provided"]}),(0,r.jsxs)("p",{className:"text-gray-300",children:[(0,r.jsx)("span",{className:"font-medium",children:"Provider:"})," ",(null==(t=i.app_metadata)?void 0:t.provider)||"Unknown"]}),(0,r.jsxs)("p",{className:"text-gray-300",children:[(0,r.jsx)("span",{className:"font-medium",children:"Created:"})," ",new Date(i.created_at||"").toLocaleDateString()]})]})]}),c&&(0,r.jsxs)("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:[(0,r.jsx)("h3",{className:"text-white text-lg font-semibold mb-4",children:"Session Details"}),(0,r.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,r.jsxs)("p",{className:"text-gray-300",children:[(0,r.jsx)("span",{className:"font-medium",children:"Expires:"})," ",new Date(1e3*c.expires_at).toLocaleString()]}),(0,r.jsxs)("p",{className:"text-gray-300",children:[(0,r.jsx)("span",{className:"font-medium",children:"Provider:"})," ",(null==(s=c.user.app_metadata)?void 0:s.provider)||"Unknown"]})]})]}),(0,r.jsx)("button",{onClick:()=>h(),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Sign Out"})]}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-yellow-900 border border-yellow-700 rounded-lg p-4",children:[(0,r.jsx)("h2",{className:"text-yellow-200 text-lg font-semibold mb-2",children:"⚠️ Not Authenticated"}),(0,r.jsx)("p",{className:"text-yellow-200",children:"Please sign in to test authentication."})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("button",{onClick:()=>u(),className:"w-full px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2",children:[(0,r.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,r.jsx)("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,r.jsx)("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,r.jsx)("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,r.jsx)("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),(0,r.jsx)("span",{children:"Sign in with Google"})]}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)("a",{href:"/auth",className:"text-purple-400 hover:text-purple-300 transition-colors",children:"Go to Full Auth Page"})})]})]}),(0,r.jsx)("div",{className:"mt-8 text-center",children:(0,r.jsx)("a",{href:"/login",className:"text-gray-400 hover:text-gray-300 transition-colors",children:"← Back to Login"})})]})})}},5339:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(9946).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},6414:(e,t,s)=>{"use strict";s.d(t,{HW:()=>i,ND:()=>n});var r=s(2354);let a="https://molcqjsqtjbfclasynpg.supabase.co",l="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1vbGNxanNxdGpiZmNsYXN5bnBnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU4ODk1NDcsImV4cCI6MjA3MTQ2NTU0N30.IEP7E2VM2uV1vltbSw1CwYpYw1qw6MvI-JB5SD0tUKI";if(!a||!l)throw Error("Missing Supabase environment variables. Please check your .env.local file.");let n=(0,r.UU)(a,l,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,debug:!1}}),i=async()=>{try{let{data:{user:e},error:t}=await n.auth.getUser();if(t)throw t;return e}catch(e){return console.error("Error getting current user:",e),null}}},9946:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});var r=s(2115);let a=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},l=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,r.forwardRef)((e,t)=>{let{color:s="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:c,className:o="",children:d,iconNode:h,...u}=e;return(0,r.createElement)("svg",{ref:t,...n,width:a,height:a,stroke:s,strokeWidth:c?24*Number(i)/Number(a):i,className:l("lucide",o),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(u)&&{"aria-hidden":"true"},...u},[...h.map(e=>{let[t,s]=e;return(0,r.createElement)(t,s)}),...Array.isArray(d)?d:[d]])}),c=(e,t)=>{let s=(0,r.forwardRef)((s,n)=>{let{className:c,...o}=s;return(0,r.createElement)(i,{ref:n,iconNode:t,className:l("lucide-".concat(a(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),c),...o})});return s.displayName=a(e),s}}},e=>{e.O(0,[641,354,441,964,358],()=>e(e.s=375)),_N_E=e.O()}]);