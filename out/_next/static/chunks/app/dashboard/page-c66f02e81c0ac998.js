(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{646:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},1684:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});var a=t(5155);t(2115);var r=t(8274);let l=e=>{let{isVisible:s=!0,position:t="top-right"}=e;return s?(0,a.jsx)(r.P.div,{className:"".concat({"top-right":"fixed top-4 right-4 z-50","top-left":"fixed top-4 left-4 z-50","bottom-right":"fixed bottom-4 right-4 z-50","bottom-left":"fixed bottom-4 left-4 z-50"}[t]," select-none"),initial:{opacity:0,scale:.8,y:-10},animate:{opacity:1,scale:1,y:0},transition:{duration:.3,ease:"easeOut"},children:(0,a.jsx)("div",{className:"bg-blue-900/90 backdrop-blur-sm border border-blue-500/50 rounded-lg px-3 py-2 shadow-lg",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(r.P.div,{className:"w-2 h-2 bg-blue-400 rounded-full",animate:{opacity:[1,.3,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),(0,a.jsx)("span",{className:"text-blue-200 text-sm font-medium",children:"Demo Mode"})]})})}):null}},2206:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});var a=t(5155);t(2115);let r=e=>{let{show:s=!1,size:t="sm",className:r=""}=e;return s?(0,a.jsxs)("div",{className:"inline-flex items-center bg-blue-900/50 border border-blue-500/30 rounded text-blue-300 ".concat({xs:"text-xs px-1.5 py-0.5",sm:"text-xs px-2 py-1",md:"text-sm px-2.5 py-1.5",lg:"text-sm px-3 py-2"}[t]," ").concat(r),children:[(0,a.jsx)("span",{className:"mr-1",role:"img","aria-label":"demo",children:"\uD83D\uDCCA"}),(0,a.jsx)("span",{children:"Demo Content"})]}):null}},2771:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});var a=t(2115);let r=a.forwardRef(function(e,s){let{title:t,titleId:r,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},l),t?a.createElement("title",{id:r},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},3052:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},4822:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>N});var a=t(5155),r=t(2115),l=t(5695),i=t(6414),c=t(2844),n=(t(763),t(5500)),d=t(7572),o=t(2771);t(6865),t(4761);let u=(0,t(9946).A)("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]]);var m=t(6785),x=t(3052),h=t(2713),p=t(7434),b=t(9397),g=t(646),y=t(1684),v=t(2206);let j=e=>{let{customerId:s,customerData:t}=e,i=(0,l.useRouter)(),[c,n]=(0,r.useState)({customerAnalysis:0,valueCommunication:0,executiveReadiness:0}),d=(0,r.useMemo)(()=>({customerAnalysis:85,valueCommunication:72,executiveReadiness:67}),[]);(0,r.useEffect)(()=>{let e=[];return Object.entries(d).forEach((s,t)=>{let[a,r]=s,l=Date.now()+200*t,i=setInterval(()=>{let e=Math.min((Date.now()-l)/1500,1),s=Math.floor(r*e);n(e=>({...e,[a]:s})),e>=1&&clearInterval(i)},16);e.push(i)}),()=>e.forEach(e=>clearInterval(e))},[d]);let o=e=>null!=t&&!!t.isAdmin||(null==t?void 0:t.paymentStatus)==="Completed",j=e=>{if(!o(e))return;let t={icp:"/customer/".concat(s,"/icp"),costCalculator:"/customer/".concat(s,"/cost-calculator"),businessCase:"/business-case"};t[e]&&i.push(t[e])},f=e=>{let{score:s,label:t,color:r="#8B5CF6"}=e,l=2*Math.PI*40;return(0,a.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,a.jsxs)("div",{className:"relative w-24 h-24",children:[(0,a.jsxs)("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 100 100",children:[(0,a.jsx)("circle",{cx:"50",cy:"50",r:40,stroke:"currentColor",strokeWidth:4,fill:"none",className:"text-gray-700"}),(0,a.jsx)("circle",{cx:"50",cy:"50",r:40,stroke:r,strokeWidth:4,fill:"none",strokeLinecap:"round",strokeDasharray:l,strokeDashoffset:l-s/100*l,className:"transition-all duration-1000 ease-out"})]}),(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsxs)("span",{className:"text-lg font-semibold text-white",children:[s,"%"]})})]}),(0,a.jsx)("span",{className:"text-sm text-gray-300 text-center",children:t})]})};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-950",children:[(null==t?void 0:t.demoMode)&&(0,a.jsx)(y.A,{isVisible:!0,position:"top-right"}),(0,a.jsx)("div",{className:"px-6 py-8 border-b border-gray-800",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Revenue Intelligence Dashboard"}),(null==t?void 0:t.demoMode)&&(0,a.jsx)(v.A,{show:!0,size:"sm"})]}),(0,a.jsxs)("p",{className:"text-gray-400 mt-1",children:["Welcome back, ",(null==t?void 0:t.customerName)||"User"]})]}),(0,a.jsx)("div",{className:"flex items-center space-x-4",children:(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-sm text-gray-400",children:"Company"}),(0,a.jsx)("p",{className:"text-white font-medium",children:(null==t?void 0:t.company)||"N/A"})]})})]})}),(0,a.jsxs)("div",{className:"px-6 py-8",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsxs)("div",{className:"bg-gray-900 rounded-lg p-6 border border-gray-800",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Competency Overview"}),(0,a.jsx)("p",{className:"text-gray-400 mt-1",children:"Your systematic scaling progress"})]}),(0,a.jsx)(u,{className:"w-6 h-6 text-purple-400"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsx)(f,{score:c.customerAnalysis,label:"Customer Analysis",color:"#8B5CF6"}),(0,a.jsx)(f,{score:c.valueCommunication,label:"Value Communication",color:"#EC4899"}),(0,a.jsx)(f,{score:c.executiveReadiness,label:"Executive Readiness",color:"#06B6D4"})]})]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"bg-gray-900 rounded-lg p-6 border border-gray-800",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Quick Actions"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("button",{onClick:()=>j("icp"),disabled:!o("icp"),className:"w-full p-4 rounded-lg border transition-all duration-200 ".concat(o("icp")?"border-purple-500/50 bg-purple-500/10 hover:bg-purple-500/20 cursor-pointer":"border-gray-700 bg-gray-800/50 cursor-not-allowed opacity-50"),children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(m.A,{className:"w-5 h-5 text-purple-400"}),(0,a.jsx)("span",{className:"text-white font-medium",children:"ICP Analysis"})]}),o("icp")?(0,a.jsx)(x.A,{className:"w-4 h-4 text-gray-400"}):(0,a.jsx)("div",{className:"w-4 h-4 bg-gray-600 rounded-full"})]})}),(0,a.jsx)("button",{onClick:()=>j("costCalculator"),disabled:!o("costCalculator"),className:"w-full p-4 rounded-lg border transition-all duration-200 ".concat(o("costCalculator")?"border-pink-500/50 bg-pink-500/10 hover:bg-pink-500/20 cursor-pointer":"border-gray-700 bg-gray-800/50 cursor-not-allowed opacity-50"),children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(h.A,{className:"w-5 h-5 text-pink-400"}),(0,a.jsx)("span",{className:"text-white font-medium",children:"Cost Calculator"})]}),o("costCalculator")?(0,a.jsx)(x.A,{className:"w-4 h-4 text-gray-400"}):(0,a.jsx)("div",{className:"w-4 h-4 bg-gray-600 rounded-full"})]})}),(0,a.jsx)("button",{onClick:()=>j("businessCase"),disabled:!o("businessCase"),className:"w-full p-4 rounded-lg border transition-all duration-200 ".concat(o("businessCase")?"border-cyan-500/50 bg-cyan-500/10 hover:bg-cyan-500/20 cursor-pointer":"border-gray-700 bg-gray-800/50 cursor-not-allowed opacity-50"),children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(p.A,{className:"w-5 h-5 text-cyan-400"}),(0,a.jsx)("span",{className:"text-white font-medium",children:"Business Case"})]}),o("businessCase")?(0,a.jsx)(x.A,{className:"w-4 h-4 text-gray-400"}):(0,a.jsx)("div",{className:"w-4 h-4 bg-gray-600 rounded-full"})]})})]})]})})]}),(0,a.jsx)("div",{className:"mt-8",children:(0,a.jsxs)("div",{className:"bg-gray-900 rounded-lg p-6 border border-gray-800",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Recent Activity"}),(0,a.jsx)(b.A,{className:"w-6 h-6 text-gray-400"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4 p-4 bg-gray-800/50 rounded-lg",children:[(0,a.jsx)(g.A,{className:"w-5 h-5 text-green-400"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-white font-medium",children:"Dashboard accessed"}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Enhanced authentication successful"})]}),(0,a.jsx)("span",{className:"text-gray-400 text-sm",children:"Just now"})]}),(null==t?void 0:t.hasPersonalizedICP)&&(0,a.jsxs)("div",{className:"flex items-center space-x-4 p-4 bg-gray-800/50 rounded-lg",children:[(0,a.jsx)(m.A,{className:"w-5 h-5 text-purple-400"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-white font-medium",children:"ICP Analysis available"}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Personalized content ready"})]}),(0,a.jsx)("span",{className:"text-gray-400 text-sm",children:"Ready"})]})]})]})})]})]})};var f=t(3882);function N(){let e=(0,l.useRouter)(),[s,t]=(0,r.useState)(),[n,d]=(0,r.useState)(null);(0,r.useEffect)(()=>{let s=async()=>{try{let{data:{session:a},error:r}=await i.ND.auth.getSession();if(!r&&(null==a?void 0:a.user)){var s;let e=a.user.id;t(e),d({id:e,email:a.user.email,name:(null==(s=a.user.user_metadata)?void 0:s.name)||a.user.email,isSupabaseUser:!0});return}let l=c.auth.getCustomerId();if(l&&c.auth.isAuthenticated()){t(l);let e=c.auth.getCurrentCustomer();d(e)}else e.push("/login?redirectTo=/dashboard/")}catch(s){console.error("Auth check failed:",s),e.push("/login?redirectTo=/dashboard/")}},{data:{subscription:a}}=i.ND.auth.onAuthStateChange((s,a)=>{if("SIGNED_IN"===s&&(null==a?void 0:a.user)){var r;let e=a.user.id;t(e),d({id:e,email:a.user.email,name:(null==(r=a.user.user_metadata)?void 0:r.name)||a.user.email,isSupabaseUser:!0})}else"SIGNED_OUT"===s&&e.push("/login?redirectTo=/dashboard/")});return s(),()=>{a.unsubscribe()}},[e]);let{data:o,isLoading:u}=(0,f.cN)(s),{data:m,isLoading:x}=(0,f.p1)(s),{data:h,isLoading:p}=(0,f.NT)(s),{data:b,isLoading:g}=(0,f.EK)(s);return s?(0,a.jsx)(j,{customerId:s,customerData:n}):null}},5108:(e,s,t)=>{Promise.resolve().then(t.bind(t,4822))},6414:(e,s,t)=>{"use strict";t.d(s,{HW:()=>c,ND:()=>i});var a=t(2354);let r="https://molcqjsqtjbfclasynpg.supabase.co",l="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1vbGNxanNxdGpiZmNsYXN5bnBnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU4ODk1NDcsImV4cCI6MjA3MTQ2NTU0N30.IEP7E2VM2uV1vltbSw1CwYpYw1qw6MvI-JB5SD0tUKI";if(!r||!l)throw Error("Missing Supabase environment variables. Please check your .env.local file.");let i=(0,a.UU)(r,l,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,debug:!1}}),c=async()=>{try{let{data:{user:e},error:s}=await i.auth.getUser();if(s)throw s;return e}catch(e){return console.error("Error getting current user:",e),null}}},6865:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});var a=t(2115);let r=a.forwardRef(function(e,s){let{title:t,titleId:r,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},l),t?a.createElement("title",{id:r},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},7434:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},9397:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])}},e=>{e.O(0,[641,274,354,568,536,860,874,736,884,844,763,441,964,358],()=>e(e.s=5108)),_N_E=e.O()}]);